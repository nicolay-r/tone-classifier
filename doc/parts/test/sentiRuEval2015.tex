\newpage
\subsection{Тестирование на коллекции SentiRuEval-2015}
\label{sec:test2015}
Предварительное тестирование классификатора производилось на данных
соревнований 2015 года.
В таблице \ref{table:bankResult2015}-\ref{table:tkkResult2015} приведены оценки
качества работы классификаторов в зависимости от настроек.
Процентный прирост качества вычисляется как отношение наибольшего значения оценки по
соответствующей метрике ($F_{macro}(neg, pos)$ или $F_{micro}(neg, pos)$) к
наименьшему.

Настройки векторизации сообщений в предварительных прогонах следующие:
\begin{enumerate}
    \item Использование русскоязычных термов и хэштегов;
    \item Прогон №1 + применение тональных префиксов, использование лексиконов 1
        и №2, а также учет всех признаков;
    \item Прогон №2 + использование всех лексиконов (кроме №3)\footnote{
        Применение лексикона, составленного на обучающей коллекции {\it SentiRuEval-2015}
        года не привело к повышению качества (ввиду малого объема).
    }.
\end{enumerate}

\begin{table}[ht!]
\centering
\caption{Результаты тестирования (Коллекция BANK, {\it SentiRuEval-2015})}
\label{table:bankResult2015}
\begin{tabular}{|c|c|c|c|c|}
\hline
\multirow{3}{*}{№} & \multicolumn{4}{c|}{BANK}                                                               \\ \cline{2-5}
                   & \multicolumn{2}{c|}{Не сбалансированная коллекция} & \multicolumn{2}{c|}{Сбалансированная коллекция} \\ \cline{2-5}
                   & $F_{macro}(neg, pos)$    & $F_{micro}(neg, pos)$   & $F_{macro}(neg, pos)$  & $F_{micro}(neg, pos)$  \\ \hline
1                  & 0,3659                   & 0,4                     & 0,4206 (+15.0\%)       & 0,458 (+14.5\%)        \\ \hline
2                  & 0,3933                   & 0,4128                  & 0,4305 (+9.4\%)        & 0,4718 (+14.2\%)       \\ \hline
3                  & 0,4119                   & 0,4394                  & 0,4349 (+5.5\%)        & 0,4792 (+9.0\%)        \\ \hline
\end{tabular}
\end{table}

\begin{table}[ht!]
\centering
\caption{Результаты тестирования (Коллекция TKK, {\it SentiRuEval-2016})}
\label{table:tkkResult2015}
\begin{tabular}{|c|c|c|c|c|}
\hline
\multirow{3}{*}{№} & \multicolumn{4}{c|}{TKK}                                                                             \\ \cline{2-5}
                   & \multicolumn{2}{c|}{Не сбалансированная коллекция} & \multicolumn{2}{c|}{Сбалансированная коллекция} \\ \cline{2-5}
                   & $F_{macro}(neg, pos)$    & $F_{micro}(neg, pos)$   & $F_{macro}(neg, pos)$  & $F_{micro}(neg, pos)$  \\ \hline
1                  & 0,4608 (+0.5\%)          & 0,5172 (2.5\%)          & 0,4583                 & 0,5045                 \\ \hline
2                  & 0,4701 (+0.26\%)         & 0,5207 (2.0\%)          & 0,4689                 & 0,5104                 \\ \hline
3                  & 0,4925 (+3.3\%)        & 0,5378 (3.7\%)          & 0,4767                 & 0,5184                 \\ \hline
\end{tabular}
\end{table}

%
% Выводы
%
На основе полученных результатов было принято решение о создании {\bf расширенной
сбалансированной коллекции}: дополнение положительных и негативных классов
коллекции 2016 года соответствующими классами коллекции 2015 года, и дальнейшая
балансировка сообщениями.
Параметры расширенной сбалансированной коллекции (см. таблицу
\ref{table:extendedCollection}).

\begin{table}[]
\centering
\caption{Расширенная обучающая сбалансированная коллекция (количество сообщений)}
\label{table:extendedCollection}
\begin{tabular}{|c|c|c|}
\hline
Коллекция & Объем класса & Всего \\ \hline
BANK      & 6765         & 20295 \\ \hline
TKK       & 4894         & 14682 \\ \hline
\end{tabular}
\end{table}
