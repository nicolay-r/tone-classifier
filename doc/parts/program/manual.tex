\subsection{Руководство пользователя}
    \subsubsection{Настройка компонентов приложения}
    % Здесь необходимо описать, какие предварительные действия требуется выполнить,
    % чтобы пользователь смог, пользоваться приложением.
    % Добавление лексиконов в хранилище
    Сборка и эксплуатация приложения\footnote{ \url{github.com/nicolay-r/tone-classifier/tree/2016_jan_contest}
    }
    проверялась под операционной системой
    {\it Ubuntu 14.04 x64}.
    Изначально необходимо выполнить установку зависимостей.
    Список команд представлен в листинге \ref{lst:dependencies}.
    \lstset{style=bash}
    \lstinputlisting[caption="Установка зависимостей проекта", label={lst:dependencies}]{parts/code/init.sh}

        % Инициализация обучающих коллекций
        По-умолчанию, приложение включает в себя обучающую/тестовую/эталонную
        коллекции соревнований {\it SentiRuEval} за 2015 и 2016 года. Для
        инициализации коллекций в хранилище, пользователю необходимо выполнить
        последовательность команд, представленных в листинге \ref{lst:collectionsInit}.
        \lstset{style=bash}
        \lstinputlisting[caption="Инициализация обучающих коллекций", label={lst:collectionsInit}]{parts/code/collectionsInit.sh}

        % Создание сбалансированных обучающих коллекций
        Применение балансировки к обучающей повышает качество оценки сообщений.
        \cite{diploma2015} В листинге \ref{lst:collectionsBalancedInit} приводится
        последовательность команд, позволяющая создать сбалансированные коллекции
        на основе обучающих коллекций {\it SentiRuEval}, дополненных сообщениями
        из {\it корпуса коротких текстов} \cite{rubtsovaCollection}.
        \lstset{style=bash}
        \lstinputlisting[caption="Создание сбалансированных коллекций.", label={lst:collectionsBalancedInit}]{parts/code/collectionsBalancedInit.sh}

        % Инициализация лексиконов
        Приложение содержит по-умолчанию лексиконы\footnote{
            \url{github.com/nicolay-r/tone-classifier/tree/2016_jan_contest/data/lexicons}
	}, представленные в текстовом
        формате. Для применения лексиконов в классификаторе, необходимо преобразовать
        текстовые данные в хранилище. Для этого пользователю
        достаточно выполнить следующие действия, представленные в листинге.
        \ref{lst:lexiconsInit}
        \lstset{style=bash}
        \lstinputlisting[caption="Инициализация лексиконов по-умолчанию", label={lst:lexiconsInit}]{parts/code/lexiconsInit.sh}

    \subsubsection{Работа с приложением}

        % Векторизация сообщений обучающей и тестовых коллекций
        Для работы с приложением, пользователю необходимо перейти в каталог проекта {\tt svm}.
        Каталог содержит настройки векторизации сообщений:
        % Добавить ссылку на описание формата
        \begin{itemize}
            \item {\tt msg.conf} --- описывает настройки семантической обработки текста
                сообщений в формате {\it JSON}.
            \item {\tt features.conf} --- предоставляет настройку списка
                дополнительных признаков векторизации в формате {\it JSON}.
        \end{itemize}

        Настройки параметров данных для классификации описаны в файле {\it Makefile}.
        Каждая из настроек описывается именем, которое включает в себя
        характеристику следующих параметров (формат определения значений необходимых
        параметров представлен в листинге \ref{lst:makefile}):

        \begin{enumerate}
            \item {\tt TASK\_TYPE} -- тип решаемой задачи ({\tt bank} или {\tt tkk});
            \item {\tt TEST\_TABLE} -- имя тестовой коллекции в хранилище;
            \item {\tt TRAIN\_TABLE} -- имя обучающей коллекции в хранилище;
            \item {\tt MODEL\_NAME} -- имя используемой модели векторизации сообщений;
            \item {\tt ETALON\_RESULT} -- ссылка на эталонную коллекцию.
        \end{enumerate}

        \lstset{style=bash}
        \lstinputlisting[caption="Пример настройки параметров классификации в {\it Makefile}.",
            label={lst:makefile}]{parts/code/makefile.sh}

        Чтобы векторизовать содержимое обучающей и тестовых коллекций, а также
        произвести оценку качества работы классификатора, необходимо выполнить
        команду:
        \begin{center}
            {\tt make {\{название\_настройки\}}}
        \end{center}

        По завершении процесса, вся необходимая информация по оценке качества
        работы будет отображена на экране в формате, представленном в листинге
        \ref{lst:classifierScores}.

    \subsubsection{Формат описания настроек в конфигурационных файлах}

    Рассмотрим формат описания настроек в конфигурационных файлах.
    В проекте используются следующие файлы с настройками:

    \begin{itemize}
        \item {\tt msg.conf} --- описывает настройки семантической обработки текста
            сообщений в формате {\it JSON}.
        \item {\tt features.conf} --- предоставляет настройку списока
            дополнительных признаков векторизации в формате {\it JSON}.
    \end{itemize}

    %
    % msg.conf
    %
    Файл с семантической обработкой теста включает в себя настройки следующих
    параметров:
    \begin{itemize}
        \item Настройки используемых термов, входящие в векторизацию согласно
            п. \ref{sec:buildingMsgProcessing}. В листинге \ref{lst:termsSettings}
            описан формат задания настроек. Для активации/отключения термов
            каждого из типов необходимо в качестве значений указываются {\tt True}
            или {\tt False} соответветственно;

            \begin{lstlisting}[caption="Указание используемых в векторизации термов", label={lst:termsSettings}]
"urls_used" : "False",
"ht_used" : "True",
"users_used" : "False",
"retweet_used" : "False",
"use_stop_words" : "False",
            \end{lstlisting}

        \item Преобразование списка термов в тональные префиксы <<+>>/<<->> (см. листинг \ref{lst:prefixProcessor}).
            Среди термов могут быть указаны униграммы либо биграммы. Полный список
            используемых тональных префиксов (строка 2) приведен в {\it <<Приложении B>>}.
            \begin{lstlisting}[caption="Настройка преобразования термов в тональные префиксы", label={lst:prefixProcessor}]
"use_prefix_processor" : "False",
"tone_prefix" : {...}
            \end{lstlisting}
        \item Списки термов, которые удаляются из векторизации (стоп слова)
            представлены в листинге \ref{lst:featuresSettings} для каждой задачи в отдельности.
            Значением этих списков являются строки, перечисленные через зяпятую.

            \begin{lstlisting}[caption="Настройка используемых списков стоп слов", label={lst:featuresSettings}]
"bank_stop_words" : [ ... ],
"tkk_stop_words" : [ ... ]
            \end{lstlisting}
    \end{itemize}

    %
    % features.conf
    %
    Настройки дополнительных признаков указываются в конфигурационном файле
    следующим образом:
    \begin{itemize}
        \item Настройка используемых лексиконов рассматривается в листинге \ref{lst:lexiconSettings}.
            Значением параметра <<{\tt lexicons}>> является список используемых
            лексиконов. Каждый лексикон включает в себя следующие настройки:
            \begin{itemize}
                \item {\tt table} --- имя таблицы, в которой описан лексикон;
                \item {\tt name} --- терм, который будет использоваться при добавлении в словарь с термами;
                \item {\tt enabled} ---  указывает на использование признака;
                    на основе этого лексикона в векторизации.
            \end{itemize}
        \begin{lstlisting}[caption="Настройка используемых лексиконов", label={lst:lexiconSettings}]
"lexicons" : [ {
        "lexicon_configpath" : "lexicon.conf",
        "table" : "rubtsova_lexicon",
        "name" : "$rubtsova_lexicon",
        "enabled" : "True"
    }, ... ]
        \end{lstlisting}

        \item Параметры настройки признака на основе лексиконов приведены в листинге \ref{lst:smilesSettings}.
            Из параметров, отличных от настройки лексикона следует отметить:
            \begin{itemize}
                \item {\tt positive\_values} --- список эмотиконов с положительной тональностью;
                \item {\tt negative\_values} --- список эмотиконов с негативной тональностью.
            \end{itemize}
        \begin{lstlisting}[caption="Настройка признака на основе эмотиконов", label={lst:smilesSettings}]
"smiles" : {
    "enabled"  : "False",
    "name" : "$smiles",
    "positive_values" : [ ... ],
    "negative_values" : [ ... ]
}
        \end{lstlisting}
        \item Настройка признака на основе знаков пунктуации представлена в
            листинге \ref{lst:signsSettings}.
        \begin{lstlisting}[caption="Настройка признаков на основе знаков пунктуации", label={lst:signsSettings}]
"signs" : {
    "enabled" : "False",
    "name" : "$signs",
    "chars" : ["?", "!", "..."]
},
        \end{lstlisting}

        \item Настройка признака подсчета числа слов в верхнем регистре описана в
            листинге \ref{lst:uppercaseSettings}.
        \begin{lstlisting}[caption="Настройка признака подсчета числа слов в верхнем регистре", label={lst:uppercaseSettings}]
"uppercase_words" : {
    "enabled" : "False",
    "name" : "$uppercase_words"
}
        \end{lstlisting}

    \end{itemize}


%        \subsubsection{Создание лексиконов на основе сообщений сети
%            {\tt Twitter} }
%        Помимо существующих в приложении лексиконов, пользователю предоставляется
%        возможность создавать их c нуля. Пользователю необходимо выполнить следующую
%        последовательность действий (см. листинг \ref{lst:lexiconCreation}):
%        \begin{enumerate}
%            \item Подключиться к приему потока сообщений сети {\tt Twitter}. Пользователю
%                необходимо будет предварительно предоставить ключи авторизации;
%            \item На основе принятого потока, отфильтровать тональные сообщения
%            и создать два класса сообщений: положительные и негативные;
%            \item Сгенерировать лексикон на основе полученных классов.
%        \end{enumerate}
%
%        % Листинг выполнения подключения.
%        \lstset{style=bash}
%        \lstinputlisting[caption="Построение пользовательского лексикона.", label={lst:lexiconCreationPart1}]{parts/code/lexiconCreationPart1.sh}
%
%        % Листинг фильтрации собщений.
%
    % Листинг генерации лексиконов.
